<div ng-controller="app.customer.reviews.explore">
  <!-- <div class="card"> -->
    <div class="card-body">
      <div class="col-md-12" >
        <h4><strong>Date : </strong>{{data[0].created | date : 'dd-MMM-yyyy'}} </h4>
        <span ng-if="chatThreadData.uid!=none"><h3><strong>Status : </strong>{{chatThreadData.status}} <span class="pull-right"><div class="btn btn-primary" ng-click="showChart()">Change Status</div></span></h3></span><hr>
        <!-- <div class="row" ng-repeat="msg in data">
          <div class="row">
            <div class="float-right" style="clear:both;float:{{msg.sentByAgent ? 'right; background-color:#dba4ae; ':'left; background-color:#72b3d4;'}} padding:10px;margin:8px;border-radius:{{msg.sentByAgent ? '20px 0px 20px 20px':'0px 20px 20px 20px'}};">
            <p ng-if="msg.message.length>0 && msg.attachmentType != 'youtubeLink'" style="word-break: break-all !important;" ><h4>{{msg.message}}</h4></p>
             <img ng-if="msg.attachmentType == 'image'" ng-src="{{msg.file}}" style="width:250px;">
             <video ng-if="msg.attachmentType == 'video'" width="280" height="240" ng-src="{{msg.file}}" controls></video>
             <audio ng-if="msg.attachmentType == 'audio'" ng-src="{{msg.file}}" controls></audio>
             <p class="text-center" ng-if="msg.attachmentType == 'application'" style="word-wrap: break-word;"><a ng-href="{{msg.file}}" target = "_blank" ><i class="fa {{msg.file.split('chat/')[1] | fileTypeIcon }} fa-2x" ></i></a> <br> {{msg.file.split('chat/')[1]}}  </p>
             <div ng-if="msg.attachmentType == 'youtubeLink'" >
               <iframe width="100%" height="215" ng-src="{{msg.message | trusted}}" frameborder="0" allowfullscreen></iframe>
             </div>
            </div>
          </div>

          <div class="row container-fluid" style="{{msg.sentByAgent ? 'padding-right:30px' : 'padding-left:30px'}};"  >
            <span ng-if="msg.sentByAgent" style="clear:both;float:{{msg.sentByAgent ? 'right':'left'}};  font-size:11px; " class="text-muted" ng-init="cal = calculateTime(msgData[$index-1].created , msg.created)" >{{msg.created | date : 'hh:mm:a' }} , {{cal}}</span>
            <span ng-if="!msg.sentByAgent" style="clear:both;float:{{msg.sentByAgent ? 'right':'left'}};  font-size:11px; " class="text-muted" >{{msg.created | date : 'hh:mm:a' }}</span>
          </div>
        </div> -->
        <div ng-repeat="msg in data">
            <div class="{{msg.sentByAgent ? 'float-right':'float-left'}}" style="clear:both; margin-bottom:10px; padding:10px 10px 0px 10px;{{msg.sentByAgent ? ' border-radius:20px 0px 20px 20px; background-color: #dba4ae; margin-left:40px;':' border-radius:0px 20px 20px 20px; background-color:#72b3d4;  margin-right:40px;'}}">
              <p ng-if="msg.message.length>0 && msg.attachmentType != 'youtubeLink'" style="word-break: break-all !important;" >{{msg.message}}</p>
            </div>
            <div ng-if="msg.sentByAgent" class="float-right" style="clear:both;" ng-init="cal = calculateTime(data[$index-1].created , msg.created)">{{msg.created | date : 'hh:mm:a' }} , {{cal}}</div>
            <div ng-if="!msg.sentByAgent" class="float-left" style="clear:both;">{{msg.created | date : 'hh:mm:a' }}</div>
        </div>
      </div>
    </div>
  <!-- </div> -->
</div>
