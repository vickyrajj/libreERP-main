n<div class="modal-body">
  <div class="container-fluid">
    <h3>{{fullChatData[0].uid}}<span class="pull-right"><strong>Status : </strong>{{chatThreadData.status | humanize}}</span></h3><hr>
    <div class="row">
      <div class="col-md-10 col-md-offset-1">
        <div class="row text-center">
          <span style="font-size:20px"><strong>Change Status</strong></span>
        </div>
        <div class="row" style="padding-top:25px">
          <div class="col-md-2 btn btn-primary" style="margin-right:20px"  mwl-confirm title="Started" message="Are you sure?" confirm-text="Yes <i class='fa fa-check'></i>" cancel-text="No" on-confirm="changeStatus('started')" confirm-button-type="default" cancel-button-type="default" ng-if="chatThreadData.status !='started'">
            <strong>Started</strong>
          </div>
          <div class="col-md-2 btn btn-primary" style="margin-right:20px"  mwl-confirm title="Reviewed" message="Are you sure?" confirm-text="Yes <i class='fa fa-check'></i>" cancel-text="No" on-confirm="changeStatus('reviewed')" confirm-button-type="default" cancel-button-type="default" ng-if="chatThreadData.status !='reviewed'">
            <strong>Reviewed</strong>
          </div>
          <div class="col-md-2 btn btn-primary" style="margin-right:20px"  mwl-confirm title="EscalatedL1" message="Are you sure?" confirm-text="Yes <i class='fa fa-check'></i>" cancel-text="No" on-confirm="changeStatus('escalatedL1')" confirm-button-type="default" cancel-button-type="default" ng-if="chatThreadData.status !='escalatedL1'">
            <strong>EscalatedL1</strong>
          </div>
          <div class="col-md-2 btn btn-primary" style="margin-right:20px"  mwl-confirm title="EscalatedL2" message="Are you sure?" confirm-text="Yes <i class='fa fa-check'></i>" cancel-text="No" on-confirm="changeStatus('escalatedL2')" confirm-button-type="default" cancel-button-type="default" ng-if="chatThreadData.status !='escalatedL2'">
            <strong>EscalatedL2</strong>
          </div>
          <div class="col-md-2 btn btn-primary" style="margin-right:20px"  mwl-confirm title="Resolved" message="Are you sure?" confirm-text="Yes <i class='fa fa-check'></i>" cancel-text="No" on-confirm="changeStatus('resolved')" confirm-button-type="default" cancel-button-type="default" ng-if="chatThreadData.status !='resolved'">
            <strong>Resolved</strong>
          </div>
          <div class="col-md-2 btn btn-primary" style="margin-right:20px"  mwl-confirm title="Archived" message="Are you sure?" confirm-text="Yes <i class='fa fa-check'></i>" cancel-text="No" on-confirm="changeStatus('archived')" confirm-button-type="default" cancel-button-type="default" ng-if="chatThreadData.status !='archived'">
            <strong>Archived</strong>
          </div>
        </div>
      </div>
    </div>
    <hr>
    <div class="col-md-12">
      <h4 ng-if="chatThreadData.resolvedBy" style="font-weight:501">
        <span><span style="background-color:'red'">Resolved On</span> : {{chatThreadData.resolvedOn.split('.')[0].split('T')[0]}} at {{chatThreadData.resolvedOn.split('.')[0].split('T')[1]}} </span>
        <span class="pull-right"> Resloved By : {{chatThreadData.resolvedBy | getName}}</span>
      </h4>
      <h4 ng-if="chatThreadData.reviewedBy" style="font-weight:501">
        <span>Reviewed On : {{chatThreadData.reviewedOn.split('.')[0].split('T')[0]}} at {{chatThreadData.reviewedOn.split('.')[0].split('T')[1]}} </span>
        <span class="pull-right"> Reviewed By : {{chatThreadData.reviewedBy | getName}}</span>
      </h4>
      <h4 ng-if="chatThreadData.archivedBy" style="font-weight:501">
        <span>Archived On : {{chatThreadData.archivedOn.split('.')[0].split('T')[0]}} at {{chatThreadData.archivedOn.split('.')[0].split('T')[1]}} </span>
        <span class="pull-right"> Archived By : {{chatThreadData.archivedBy | getName}}</span>
      </h4>
      <h4 ng-if="chatThreadData.escalatedL1By" style="font-weight:501">
        <span>EscalatedL1 On : {{chatThreadData.escalatedL1On.split('.')[0].split('T')[0]}} at {{chatThreadData.escalatedL1On.split('.')[0].split('T')[1]}} </span>
        <span class="pull-right"> EscalatedL1 By : {{chatThreadData.escalatedL1By | getName}}</span>
      </h4>
      <h4 ng-if="chatThreadData.escalatedL2By" style="font-weight:501">
        <span>EscalatedL2 On : {{chatThreadData.escalatedL2On.split('.')[0].split('T')[0]}} at {{chatThreadData.escalatedL2On.split('.')[0].split('T')[1]}} </span>
        <span class="pull-right"> EscalatedL2 By : {{chatThreadData.escalatedL2By | getName}}</span>
      </h4>
      <h4 ng-if="chatThreadData.closedOn" style="font-weight:501">
        <span>Closed On : {{chatThreadData.closedOn.split('.')[0].split('T')[0]}} at {{chatThreadData.closedOn.split('.')[0].split('T')[1]}} </span>
        <span ng-if="chatThreadData.closedBy" class="pull-right"> Closed By : {{chatThreadData.closedBy | getName}}</span>
        <span ng-if="!chatThreadData.closedBy" class="pull-right"> Closed By : Visitor</span>
      </h4>
      <!-- <h5 ng-if="chatThreadData.resolvedBy" style="font-weight:501">Resolved on {{chatThreadData.resolvedOn.split('T')[0]}} by {{chatThreadData.resolvedBy | getName}}</h5>
      <h5 ng-if="chatThreadData.reviewedBy" style="font-weight:501">Reviewed on {{chatThreadData.reviewedOn.split('T')[0]}} by {{chatThreadData.reviewedBy | getName}}</h5>
      <h5 ng-if="chatThreadData.archivedBy" style="font-weight:501">Archived on {{chatThreadData.archivedOn.split('T')[0]}} by {{chatThreadData.archivedBy | getName}}</h5>
      <h5 ng-if="chatThreadData.escalatedL1By" style="font-weight:501">EscalatedL1 on {{chatThreadData.escalatedL1On.split('T')[0]}} by {{chatThreadData.escalatedL1By | getName}}</h5>
      <h5 ng-if="chatThreadData.escalatedL2By" style="font-weight:501">EscalatedL2 on {{chatThreadData.escalatedL2On.split('T')[0]}} by {{chatThreadData.escalatedL2By | getName}}</h5>
      <h5 ng-if="chatThreadData.closedBy" style="font-weight:501">Closed on {{chatThreadData.closedOn.split('T')[0]}} by {{chatThreadData.closedBy}}</h5> -->
    </div>
    <div class="col-md-12">
      <div class="row" ng-repeat="msg in fullChatData">
        <!-- <h3>{{msg.message}}</h3> -->
        <div class="row container-fluid" style="float:{{msg.sentByAgent ? 'right; background-color:#dba4ae; ':'left; background-color:#72b3d4;'}} padding:10px;margin:8px;border-radius:{{msg.sentByAgent ? '20px 0px 20px 20px':'0px 20px 20px 20px'}};">
        <p ng-if="msg.message.length>0 && msg.attachmentType != 'youtubeLink'" style="word-break: break-all !important;" ><h4>{{msg.message}}</h4></p>
         <img ng-if="msg.attachmentType == 'image'" ng-src="{{msg.attachment}}" style="width:250px;">
         <video ng-if="msg.attachmentType == 'video'" width="280" height="240" ng-src="{{msg.attachment}}" controls></video>
         <audio ng-if="msg.attachmentType == 'audio'" ng-src="{{msg.attachment}}" controls></audio>
         <p class="text-center" ng-if="msg.attachmentType == 'application'" style="word-wrap: break-word;"><a ng-href="{{msg.attachment}}" target = "_blank" ><i class="fa {{msg.attachment.split('chat/')[1] | fileTypeIcon }} fa-2x" ></i></a> <br> {{msg.attachment.split('chat/')[1]}}  </p>
         <div ng-if="msg.attachmentType == 'youtubeLink'" >
           <iframe width="100%" height="215" ng-src="{{msg.message | trusted}}" frameborder="0" allowfullscreen></iframe>
         </div>
        </div>
        <!-- <div class="row container-fluid" style="{{msg.sentByAgent ? 'padding-right:30px' : 'padding-left:30px'}};" >
          <span style="clear:both;float:{{msg.sentByAgent ? 'right':'left'}};  font-size:11px; " class="text-muted" >{{msg.created | timeAgo}}</span>
        </div> -->
        <div class="row container-fluid" style="{{msg.sentByAgent ? 'padding-right:30px' : 'padding-left:30px'}};"  >
          <span ng-if="msg.sentByAgent" style="clear:both;float:{{msg.sentByAgent ? 'right':'left'}};  font-size:11px; " class="text-muted" ng-init="cal = calculateTime(fullChatData[$index-1].created , msg.created)" >{{msg.created | date : 'hh:mm:a' }} , {{cal}}</span>
          <span ng-if="!msg.sentByAgent" style="clear:both;float:{{msg.sentByAgent ? 'right':'left'}};  font-size:11px; " class="text-muted" >{{msg.created | date : 'hh:mm:a' }}</span>

        </div>
      </div>
    </div>

  </div>

  <!-- <div class="container-fluid text-center">
    <button type="button" class="btn btn-success text-center" ng-click="submit()">
      Submit
    </button>
  </div> -->
</div>
